!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/app/static/",n(n.s=8)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;Object.create},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t){!function(t){function e(t,e){function r(t){if(!this)return new r(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&n.call(this,t)}return e||m(t,"size",{get:p}),t.constructor=r,r.prototype=t,r}function n(t){this.add?t.forEach(this.add,this):t.forEach((function(t){this.set(t[0],t[1])}),this)}function r(t){return this.has(t)&&(this._keys.splice(v,1),this._values.splice(v,1),this._itp.forEach((function(t){v<t[0]&&t[0]--}))),-1<v}function o(t){return this.has(t)?this._values[v]:void 0}function i(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(v=t.length;v--&&!E(t[v],e););else v=t.indexOf(e);return-1<v}function a(t){return i.call(this,this._values,t)}function s(t){return i.call(this,this._keys,t)}function u(t,e){return this.has(t)?this._values[v]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function l(){(this._keys||0).length=this._values.length=0}function f(){return h(this._itp,this._values)}function h(t,e,n){var r=[0],o=!1;return t.push(r),{next:function(){var i,a=r[0];return!o&&a<e.length?(i=n?[e[a],n[a]]:e[a],r[0]++):(o=!0,t.splice(t.indexOf(r),1)),{done:o,value:i}}}}function p(){return this._values.length}function d(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}}var v,m=Object.defineProperty,E=function(t,e){return isNaN(t)?isNaN(e):t===e};"undefined"==typeof WeakMap&&(t.WeakMap=e({delete:r,clear:l,get:o,has:s,set:u},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({delete:r,has:s,get:o,set:u,keys:function(){return h(this._itp,this._keys)},values:f,entries:function(){return h(this._itp,this._keys,this._values)},forEach:d,clear:l})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:a,add:c,delete:r,clear:l,keys:f,values:f,entries:function(){return h(this._itp,this._values,this._values)},forEach:d})),"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:r,add:c,clear:l,has:a},!0))}(void 0!==t?t:window)}).call(this,n(1))},function(t,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.1.2
 */
(function(){"use strict";function e(t){return"function"==typeof t}function n(){return function(){setTimeout(r,1)}}function r(){for(var t=0;O>t;t+=2){(0,L[t])(L[t+1]),L[t]=void 0,L[t+1]=void 0}O=0}function o(){}function i(t){try{return t.then}catch(t){return M.error=t,M}}function a(t,n,r){n.constructor===t.constructor&&r===T&&constructor.resolve===N?function(t,e){e._state===C?c(t,e._result):e._state===P?l(t,e._result):f(e,void 0,(function(e){s(t,e)}),(function(e){l(t,e)}))}(t,n):r===M?l(t,M.error):void 0===r?c(t,n):e(r)?function(t,e,n){b((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?s(t,n):c(t,n))}),(function(e){r||(r=!0,l(t,e))}),t._label);!r&&o&&(r=!0,l(t,o))}),t)}(t,n,r):c(t,n)}function s(t,e){t===e?l(t,new TypeError("You cannot resolve a promise with itself")):function(t){return"function"==typeof t||"object"==typeof t&&null!==t}(e)?a(t,e,i(e)):c(t,e)}function u(t){t._onerror&&t._onerror(t._result),h(t)}function c(t,e){t._state===D&&(t._result=e,t._state=C,0!==t._subscribers.length&&b(h,t))}function l(t,e){t._state===D&&(t._state=P,t._result=e,b(u,t))}function f(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+C]=n,o[i+P]=r,0===i&&t._state&&b(h,t)}function h(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?d(n,r,o,i):o(i);t._subscribers.length=0}}function p(){this.error=null}function d(t,n,r,o){var i,a,u,f,h=e(r);if(h){if((i=function(t,e){try{return t(e)}catch(t){return x.error=t,x}}(r,o))===x?(f=!0,a=i.error,i=null):u=!0,n===i)return void l(n,new TypeError("A promises callback cannot return that same promise."))}else i=o,u=!0;n._state!==D||(h&&u?s(n,i):f?l(n,a):t===C?c(n,i):t===P&&l(n,i))}function v(t){this._id=W++,this._state=void 0,this._result=void 0,this._subscribers=[],o!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof v?function(t,e){try{e((function(e){s(t,e)}),(function(e){l(t,e)}))}catch(e){l(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function m(t,e){this._instanceConstructor=t,this.promise=new t(o),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&c(this.promise,this._result))):l(this.promise,this._validationError())}var E,_,y,g=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},O=0,b=function(t,e){L[O]=t,L[O+1]=e,2===(O+=2)&&(_?_(r):y())},A="undefined"!=typeof window?window:void 0,R=A||{},S=R.MutationObserver||R.WebKitMutationObserver,I="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),w="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,L=new Array(1e3);y=I?function(){process.nextTick(r)}:S?function(){var t=0,e=new S(r),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():w?function(){var t=new MessageChannel;return t.port1.onmessage=r,function(){t.port2.postMessage(0)}}():void 0===A&&"function"==typeof require?function(){try{var t=require("vertx");return E=t.runOnLoop||t.runOnContext,function(){E(r)}}catch(t){return n()}}():n();var T=function(t,e){var n=this,r=n._state;if(r===C&&!t||r===P&&!e)return this;var i=new this.constructor(o),a=n._result;if(r){var s=arguments[r-1];b((function(){d(r,i,s,a)}))}else f(n,i,t,e);return i},N=function(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(o);return s(e,t),e},D=void 0,C=1,P=2,M=new p,x=new p,j=function(t){return new H(this,t).promise},k=function(t){function e(t){s(r,t)}function n(t){l(r,t)}var r=new this(o);if(!g(t))return l(r,new TypeError("You must pass an array to race.")),r;for(var i=t.length,a=0;r._state===D&&i>a;a++)f(this.resolve(t[a]),void 0,e,n);return r},F=function(t){var e=new this(o);return l(e,t),e},W=0,B=v;v.all=j,v.race=k,v.resolve=N,v.reject=F,v._setScheduler=function(t){_=t},v._setAsap=function(t){b=t},v._asap=b,v.prototype={constructor:v,then:T,catch:function(t){return this.then(null,t)}};var H=m;m.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},m.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===D&&t>n;n++)this._eachEntry(e[n],n)},m.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===N){var s=i(t);if(s===T&&t._state!==D)this._settledAt(t._state,e,t._result);else if("function"!=typeof s)this._remaining--,this._result[e]=t;else if(n===B){var u=new n(o);a(u,t,s),this._willSettleAt(u,e)}else this._willSettleAt(new n((function(e){e(t)})),e)}else this._willSettleAt(r(t),e)},m.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===D&&(this._remaining--,t===P?l(r,n):this._result[e]=n),0===this._remaining&&c(r,this._result)},m.prototype._willSettleAt=function(t,e){var n=this;f(t,void 0,(function(t){n._settledAt(C,e,t)}),(function(t){n._settledAt(P,e,t)}))};var U=function(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;(!e||"[object Promise]"!==Object.prototype.toString.call(e.resolve())||e.cast)&&(t.Promise=B)},G={Promise:B,polyfill:U};"function"==typeof define&&define.amd?define((function(){return G})):void 0!==t&&t.exports?t.exports=G:void 0!==this&&(this.ES6Promise=G),U()}).call(this)},function(t,e){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!1,writable:!1,value:function(t){"use strict";var e=Object(this),n=parseInt(e.length)||0;if(0===n)return!1;var r,o,i=parseInt(arguments[1])||0;for(i>=0?r=i:(r=n+i)<0&&(r=0);r<n;){if(t===(o=e[r])||t!=t&&o!=o)return!0;r++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,configurable:!1,writable:!1,value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!1,writable:!1,value:function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return i;return-1}}),Array.from||Object.defineProperty(Array,"from",{enumerable:!1,configurable:!1,writable:!1,value:function(){function t(t){var e,n=!1,r=[];if("function"==typeof t.next)for(;!n&&(e=t.next()).hasOwnProperty("value")&&e.hasOwnProperty("done");){if(!0===e.done){n=!0;break}if(!1!==e.done)break;r.push(e.value)}return!!n&&r}return function(e){if(null==e)throw new TypeError(e+" is not an object");if(1 in arguments&&!(arguments[1]instanceof Function))throw new TypeError(arguments[1]+" is not a function");var n,r,o="string"==typeof e?e.split(""):Object(e),i=arguments[1],a=arguments[2],s=[],u=-1,c=Math.min(Math.max(Number(o.length)||0,0),9007199254740991);r=t(o),"function"==typeof o.entries&&"function"==typeof o.values&&("Set"===o.constructor.name&&"values"in Set.prototype&&(r=t(o.values())),"Map"===o.constructor.name&&"entries"in Map.prototype&&(r=t(o.entries()))),r&&(o=r,c=r.length);for(;++u<c;)n=o[u],s[u]=i?i.call(a,n,u):n;return s.length=c,s}}()}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{enumerable:!1,configurable:!1,writable:!0,value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,r=arguments[1],o=r>>0,i=o<0?Math.max(n+o,0):Math.min(o,n),a=arguments[2],s=void 0===a?n:a>>0,u=s<0?Math.max(n+s,0):Math.min(s,n);i<u;)e[i]=t,i++;return e}})},function(t,e,n){(function(t){!function(t){var e=function(){try{return!!Symbol.iterator}catch(t){return!1}}(),n=function(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n},r=function(t){return encodeURIComponent(t).replace(/%20/g,"+")},o=function(t){return decodeURIComponent(t).replace(/\+/g," ")};"URLSearchParams"in t&&"a=1"===new URLSearchParams("?a=1").toString()||function(){var o=function(t){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var e=typeof t;if("undefined"===e);else if("string"===e)""!==t&&this._fromString(t);else if(t instanceof o){var n=this;t.forEach((function(t,e){n.append(e,t)}))}else{if(null===t||"object"!==e)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++){var i=t[r];if("[object Array]"!==Object.prototype.toString.call(i)&&2===i.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(i[0],i[1])}else for(var a in t)t.hasOwnProperty(a)&&this.append(a,t[a])}},i=o.prototype;i.append=function(t,e){t in this._entries?this._entries[t].push(String(e)):this._entries[t]=[String(e)]},i.delete=function(t){delete this._entries[t]},i.get=function(t){return t in this._entries?this._entries[t][0]:null},i.getAll=function(t){return t in this._entries?this._entries[t].slice(0):[]},i.has=function(t){return t in this._entries},i.set=function(t,e){this._entries[t]=[String(e)]},i.forEach=function(t,e){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var o=0;o<n.length;o++)t.call(e,n[o],r,this)}},i.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),n(t)},i.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),n(t)},i.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),n(t)},e&&(i[Symbol.iterator]=i.entries),i.toString=function(){var t=[];return this.forEach((function(e,n){t.push(r(n)+"="+r(e))})),t.join("&")},t.URLSearchParams=o}();var i=URLSearchParams.prototype;"function"!=typeof i.sort&&(i.sort=function(){var t=this,e=[];this.forEach((function(n,r){e.push([r,n]),t._entries||t.delete(r)})),e.sort((function(t,e){return t[0]<e[0]?-1:t[0]>e[0]?1:0})),t._entries&&(t._entries={});for(var n=0;n<e.length;n++)this.append(e[n][0],e[n][1])}),"function"!=typeof i._fromString&&Object.defineProperty(i,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(t){if(this._entries)this._entries={};else{var e=[];this.forEach((function(t,n){e.push(n)}));for(var n=0;n<e.length;n++)this.delete(e[n])}var r,i=(t=t.replace(/^\?/,"")).split("&");for(n=0;n<i.length;n++)r=i[n].split("="),this.append(o(r[0]),r.length>1?o(r[1]):"")}})}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t){if(function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}()||function(){var e=t.URL,n=function(e,n){"string"!=typeof e&&(e=String(e));var r,o=document;if(n&&(void 0===t.location||n!==t.location.href)){(r=(o=document.implementation.createHTMLDocument("")).createElement("base")).href=n,o.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var i=o.createElement("a");if(i.href=e,r&&(o.body.appendChild(i),i.href=i.href),":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i});var a=new URLSearchParams(this.search),s=!0,u=!0,c=this;["append","delete","set"].forEach((function(t){var e=a[t];a[t]=function(){e.apply(a,arguments),s&&(u=!1,c.search=a.toString(),u=!0)}})),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var l=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==l&&(l=this.search,u&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})},r=n.prototype;["hash","host","hostname","port","protocol"].forEach((function(t){!function(t){Object.defineProperty(r,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}(t)})),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(t){this._anchorElement.search=t,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var t=this;return function(){return t.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(t){this._anchorElement.href=t,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(t){this._anchorElement.pathname=t},enumerable:!0},origin:{get:function(){var t={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],e=this._anchorElement.port!=t&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(e?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(t){},enumerable:!0},username:{get:function(){return""},set:function(t){},enumerable:!0}}),n.createObjectURL=function(t){return e.createObjectURL.apply(e,arguments)},n.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,arguments)},t.URL=n}(),void 0!==t.location&&!("origin"in t.location)){var e=function(){return t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")};try{Object.defineProperty(t.location,"origin",{get:e,enumerable:!0})}catch(n){setInterval((function(){t.location.origin=e()}),100)}}}(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,n(1))},function(t,e){if(!("classList"in SVGElement.prototype)){function n(t,e){t.setAttribute("class",t.getAttribute("class")+" "+e)}function r(t,e){const n=t.getAttribute("class").replace(new RegExp("(\\s|^)"+e+"(\\s|$)","g"),"$2");t.setAttribute("class",n)}Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return this._classList||function(t){const e={contains:function(e){return-1!==t.className.baseVal.split(" ").indexOf(e)},add:function(e){t.classList.contains(e)||n(t,e)},remove:function(e){t.classList.contains(e)&&r(t,e)},toggle:function(e){t.classList.contains(e)?r(t,e):n(t,e)}};Object.defineProperty(t,"_classList",{value:e,writable:!1,enumerable:!1})}(this),this._classList},enumerable:!0})}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})},,function(t,e,n){"use strict";n.r(e),n.d(e,"getReceiver",(function(){return wt}));var r,o=n(0),i=function(t){function e(e,n,r){var o=this.constructor,i=t.call(this,n)||this;return Object.setPrototypeOf(i,o.prototype),i.name=e,i.commandId=r.commandId,i.pluginId=r.context.pluginId,i}return Object(o.c)(e,t),e}(Error),a=function(t){function e(e,n){var r=this,o=n instanceof Error?n.message:"Some error while command execution";return(r=t.call(this,"CommandExecutionError",o,e)||this).originalError=n,r}return Object(o.c)(e,t),e}(i),s=function(t){function e(e){return t.call(this,"CommandNotFoundError","Command for '"+JSON.stringify(e.context)+"' not found",e)||this}return Object(o.c)(e,t),e}(i),u=function(t){function e(e){return t.call(this,"CommandReceiverNotFoundError","Command "+e.commandId+" not found. Context ='"+JSON.stringify(e.context)+"'",e)||this}return Object(o.c)(e,t),e}(i),c=function(t){function e(e){return t.call(this,"CommandResponseByTokenNotFoundError","Response by token not found "+e.commandToken,e)||this}return Object(o.c)(e,t),e}(i),l=function(){function t(t,e){this.waitingForResponseCommands=new Map,this.sendHandler=t,this.findReceiverByContext=e}return t.prototype.sendCommand=function(t,e,n){var r=this;return new Promise((function(o,i){var a=t+"-"+function(t,e){void 0===t&&(t=20);var n="";e||(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}(),s={commandId:t,commandToken:a,context:e,data:n};r.waitingForResponseCommands.set(a,{resolve:o,reject:i}),r.sendHandler(s)}))},t.prototype.processCommand=function(e){var n=this;if(e.commandId===t.RESPONSE_COMMAND_ID){var r=this.waitingForResponseCommands.get(e.commandToken);if(r)return this.waitingForResponseCommands.delete(e.commandToken),e.errorInResponse?(r.reject(e.data),Promise.resolve({error:e.data})):(r.resolve(e.data),Promise.resolve({result:e.data}));var o=new c(e);return console.error(o.message),Promise.resolve({error:o})}var i=this.findReceiverByContext(e.context);if(!i){o=new u(e);return console.error(o.message),Promise.resolve({error:o})}var l,f=e.commandId.slice(1).split("."),h=i;if(f.forEach((function(t,e){e===f.length-1?l=h[t]:h=h[t]})),!l){o=new s(e);return console.error(o.message),Promise.resolve({error:o})}try{var p=l.apply(h,e.data);return this.isPromise(p)?p.then((function(t){return n.sendResponse(e,t,!0),{result:t}})).catch((function(t){return console.error(t),n.sendResponse(e,"Some error while command execution",!1),{error:new a(e,t)}})):(this.sendResponse(e,p,!0),Promise.resolve({result:p}))}catch(t){return this.sendResponse(e,"Error while command execution: "+t.message,!1),Promise.resolve({error:new a(e,t)})}},t.prototype.isPromise=function(t){return t&&void 0!==t.then&&void 0!==t.catch},t.prototype.sendResponse=function(e,n,r){var o={commandId:t.RESPONSE_COMMAND_ID,commandToken:e.commandToken,context:e.context,errorInResponse:!r,data:n};this.sendHandler(o)},t.RESPONSE_COMMAND_ID="IS_RESPONSE_FOR_SOME_COMMAND",t}();!function(t){t.HELLO_APP_FROM_IFRAME="HELLO_APP_FROM_IFRAME",t.HELLO_IFRAME_FROM_APP="HELLO_IFRAME_FROM_APP",t.IFRAME_CHANNEL_COMMAND="IFRAME_CHANNEL_COMMAND"}(r||(r={}));var f=r;function h(t){t.__receiverDescriptionFieldName||(t.__receiverDescriptionFieldName={methods:[],nestedReceivers:[]})}function p(t,e){h(t),t.__receiverDescriptionFieldName.methods.push(e)}var d=function(){},v=function(t,e,n){this.type=t,this.data=e,this.preventDefault=n||d},m=Promise.resolve(!0);function E(t){return"object"!=typeof t?(console.warn("WidgetMenuItem is '"+typeof t+"', but have to be 'object'"),!1):t.hasOwnProperty("tooltip")&&"string"==typeof t.tooltip?t.hasOwnProperty("svgIcon")&&"string"==typeof t.svgIcon?!(!t.hasOwnProperty("onClick")||"function"!=typeof t.onClick)||(console.warn("WidgetMenuItem.onClick is '"+typeof t.onClick+"', but have to be 'function'"),!1):(console.warn("WidgetMenuItem.svgIcon is '"+typeof t.svgIcon+"', but have to be 'string'"),!1):(console.warn("WidgetMenuItem.tooltip is '"+typeof t.tooltip+"', but have to be 'string'"),!1)}var _=function(){function t(t){this.buttonsClickListeners={},this.menuItemsClickListeners={},this.currentDraggableItemOptions={},this.eventDispatcher=t}return t.prototype.setDraggableItemOption=function(t,e){this.currentDraggableItemOptions[t]=e},t.prototype.setDraggableItem=function(t){this.currentDraggableItem=t},t.prototype.addOnWidgetSelectedListener=function(t){"function"!=typeof t?console.warn("getWidgetMenuItems but have to be 'function'"):this.getMenuItems=t},t.prototype.addButtonClickListener=function(t,e){this.buttonsClickListeners[t]=e},t.prototype.onWidgetsSelected=function(t,e){return Object(o.a)(this,void 0,void 0,(function(){var n,r=this;return Object(o.d)(this,(function(o){switch(o.label){case 0:return[4,this.getMenuItems(t,e)];case 1:return n=o.sent(),Array.isArray(n)||(n=[n]),n.every(E)?(n.forEach((function(t,e){t.onClick&&(r.menuItemsClickListeners["widgetMenuItems_"+e]=t.onClick)})),[2,n.map((function(t){return{tooltip:t.tooltip,svgIcon:t.svgIcon}}))]):[2,[]]}}))}))},t.prototype.callMenuItemClickListener=function(t){this.menuItemsClickListeners["widgetMenuItems_"+t]()},t.prototype.dispatchEvent=function(t){var e=!1;return this.eventDispatcher.dispatchEvent(new v(t.type,t.data,(function(){e=!0}))),Promise.resolve(e)},t.prototype.callExtensionPointClickListener=function(t){this.buttonsClickListeners[t]()},t.prototype.areYouAlive=function(){return m},t.prototype.currentDraggableItemDropped=function(t,e,n){this.currentDraggableItemOptions[t]&&this.currentDraggableItem&&this.currentDraggableItemOptions[t].onDrop(e,n,this.currentDraggableItem)},t.prototype.currentDraggableItemCanceled=function(t){var e,n=null===(e=this.currentDraggableItemOptions[t])||void 0===e?void 0:e.onCancel;n&&n()},Object(o.b)([p],t.prototype,"onWidgetsSelected",null),Object(o.b)([p],t.prototype,"callMenuItemClickListener",null),Object(o.b)([p],t.prototype,"dispatchEvent",null),Object(o.b)([p],t.prototype,"callExtensionPointClickListener",null),Object(o.b)([p],t.prototype,"areYouAlive",null),Object(o.b)([p],t.prototype,"currentDraggableItemDropped",null),Object(o.b)([p],t.prototype,"currentDraggableItemCanceled",null),t}();var y=Math.floor,g=function(){function t(){}return t.prototype.toMillis=function(t){return t},t.prototype.toSeconds=function(t){return y(t/1e3)},t.prototype.toMinutes=function(t){return y(t/6e4)},t.prototype.toHours=function(t){return y(t/36e5)},t.prototype.toDays=function(t){return y(t/864e5)},t}(),O=function(){function t(){}return t.prototype.toMillis=function(t){return 1e3*t},t.prototype.toSeconds=function(t){return t},t.prototype.toMinutes=function(t){return y(t/60)},t.prototype.toHours=function(t){return y(t/3600)},t.prototype.toDays=function(t){return y(t/86400)},t}(),b=function(){function t(){}return t.prototype.toMillis=function(t){return 6e4*t},t.prototype.toSeconds=function(t){return 60*t},t.prototype.toMinutes=function(t){return t},t.prototype.toHours=function(t){return y(t/60)},t.prototype.toDays=function(t){return y(t/1440)},t}(),A=function(){function t(){}return t.prototype.toMillis=function(t){return 36e5*t},t.prototype.toSeconds=function(t){return 3600*t},t.prototype.toMinutes=function(t){return 60*t},t.prototype.toHours=function(t){return t},t.prototype.toDays=function(t){return y(t/24)},t}(),R=function(){function t(){}return t.prototype.toMillis=function(t){return 864e5*t},t.prototype.toSeconds=function(t){return 86400*t},t.prototype.toMinutes=function(t){return 1440*t},t.prototype.toHours=function(t){return 24*t},t.prototype.toDays=function(t){return t},t}(),S=(new g,new O,new b,new A,new R,"Windows"),I="MacOS",w="UNIX",L="Linux",T="android",N="ios";navigator.appVersion.indexOf("Win"),navigator.appVersion.indexOf("Mac"),navigator.appVersion.indexOf("X11"),navigator.appVersion.indexOf("Linux"),navigator.appVersion.indexOf("Android"),/iPad|iPhone|iPod/.test(navigator.platform);var D,C;window.devicePixelRatio;function P(t){var e,n,r,o,i,a,s,u,c=!1,l=p(),f=0,h=!1;function p(){return t.scrollHeight-parseInt(getComputedStyle(t).height,10)}function d(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function v(e){if(h)return!1;var n=!0;return e>l?(f=l,n=!1):e<0?(f=0,n=!1):f=e,t.scrollTop=f,n}function m(){var t,e,i;e=(t=Date.now())-o,o=t,i=f-r,r=f,n=.8*(1e3*i/(1+e))+.2*n}function E(){var t,e;if(a)if(t=Date.now()-o,(e=-a*Math.exp(-t/325))>.5||e<-.5){var n=v(s+e);c=n,n&&requestAnimationFrame(E)}else c=!1,v(s)}function _(t){(function(t,e){var n,r=document.body;do{n=e(t),t=t.parentElement}while(!n&&null!=t&&t!=r);return!!n})(t.target,(function(t){return t.hasAttribute("no-custom-scroll")}))||(document.addEventListener("touchmove",y),document.addEventListener("touchend",g),C=O,h=!1,e=d(t),n=a=0,r=f,o=Date.now(),clearInterval(i),i=setInterval(m,100),function(t){var e=t.target;return!!e&&("A"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||"BUTTON"===e.tagName)}(t)||t.preventDefault(),c&&(c=!1,t.stopPropagation()))}function y(n){var r=d(n),o=e-r;return(o>5||o<-5)&&(e=r,D=t,v(f+o)),n.preventDefault(),!1}function g(t){O(),(n>10||n<-10)&&(a=.8*n,s=Math.round(f+a),o=Date.now(),requestAnimationFrame(E))}function O(){document.removeEventListener("touchmove",y),document.removeEventListener("touchend",g),D=void 0,clearInterval(i)}D=void 0;var b=setInterval((function(){u!==t.scrollHeight&&(u=t.scrollHeight,l=p(),D=void 0,h=!0,n=a=0)}),200);return t.addEventListener("touchstart",_,!0),function(){D=void 0,clearInterval(b),t.removeEventListener("touchstart",_,!0),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",g),clearInterval(i)}}function M(){C&&C()}function x(t){return t.originalEvent?t.originalEvent:t}function j(t){var e=function(t){var e=x(t);return e.touches?e.touches[0]:e}(t);return{x:e.clientX,y:e.clientY}}var k,F;var W,B,H,U,G=!1;function z(t){F=j(t);var e,n=Math.abs(F.y-k.y);(e=W)&&e===D?G=!0:"horizontal"===U?(Math.abs(F.x-k.x)>4||n>20)&&(M(),B(),Y()):Math.abs(F.y-k.y)>4&&(M(),B(),Y())}function X(t,e,n,r,o){U=o,G=!1,W=e,B=r,H=n,k=j(t),document.addEventListener("mousemove",z),document.addEventListener("touchmove",z),document.addEventListener("mouseup",V),document.addEventListener("touchend",V),document.addEventListener("touchcancel",K)}function V(){G||H(),Y()}function K(){Y()}function Y(){document.removeEventListener("mousemove",z),document.removeEventListener("touchmove",z),document.removeEventListener("mouseup",V),document.removeEventListener("touchend",V),document.removeEventListener("touchcancel",K)}var q=0,J=function(){function t(t){this.root=t}return t.prototype.initScrollableContainerWithDraggableImages=function(t,e){var n=++q;P(t);var r=this.root;function o(o){o.preventDefault();var i=function(t,e,n){var r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}));return r?r.attributes.getNamedItem("data-image-url").value:void 0}(o.target,t,e.draggableImageSelector);if(i){var a="touchstart"===o.type;X(o,t,(function(){r.onDraggableImageClick({url:i})}),(function(){var t={isTouchEvent:a,preview:{url:i},image:{url:i}};r.onDraggableImageStartDrag(n,t)}),"horizontal");var s=function(t){var e=t.touches[0];r.onDraggableItemTouchMove(n,e.clientX,e.clientY)},u=function(){r.onDraggableItemTouchEnd(n),l()},c=function(){r.onDraggableItemTouchCancel(n),l()},l=function(){t.removeEventListener("touchmove",s),t.removeEventListener("touchcancel",c),t.removeEventListener("touchend",u)};t.addEventListener("touchmove",s),t.addEventListener("touchcancel",c),t.addEventListener("touchend",u),o.stopPropagation()}}t.addEventListener("mousedown",o),t.addEventListener("touchstart",o),t.addEventListener("dragstart",(function(t){t.stopPropagation(),t.preventDefault()}))},t}();var Q,Z=function(){function t(){this._listeners={},this._removedListenersCount=0}return t.prototype.addEventListener=function(t,e,n){return void 0===n&&(n=null),this.addListenerWrapper(t,{thisArg:n,listener:e,removed:!1})},t.prototype.addEventListenerOnce=function(t,e,n){return void 0===n&&(n=null),this.addListenerWrapper(t,{thisArg:n,listener:e,removed:!1,once:!0})},t.prototype.addListenerWrapper=function(t,e){return this._listeners[t]||(this._listeners[t]=[]),!this.findListenerWrapper(t,e.listener,e.thisArg)&&(this._listeners[t].push(e),!0)},t.prototype.hasEventListener=function(t,e,n){return void 0===n&&(n=null),!(!this._listeners[t]||!this.findListenerWrapper(t,e,n))},t.prototype.findListenerWrapper=function(t,e,n){return this._listeners[t].find((function(t){return t.thisArg===n&&t.listener===e&&!1===t.removed}))},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=null);var r=this._listeners[t],o=!1;if(r){var i=this._listeners[t].findIndex((function(t){return t.thisArg===n&&t.listener===e&&!1===t.removed}));-1!==i&&(this._inDispatch?(this._removedListenersCount++,r[i].removed=!0):r.splice(i,1),o=!0)}return o},t.prototype.dispatchEvent=function(t){var e=this,n=this._listeners[t.type];this._inDispatch=!0,n&&(t.target=this,n.some((function(n){var r=!1;n.removed||(!1===n.listener.call(n.thisArg,t)&&(r=!0),n.once&&e.removeEventListener(t.type,n.listener,n.thisArg));return r})),this._removedListenersCount>0&&(this._removedListenersCount=0,this._listeners[t.type]=n.filter((function(t){return!t.removed})))),this._inDispatch=!1},t}();!function(t){t.SELECTION_UPDATED="SELECTION_UPDATED",t.WIDGETS_CREATED="WIDGETS_CREATED",t.WIDGETS_DELETED="WIDGETS_DELETED",t.WIDGETS_TRANSFORMATION_UPDATED="WIDGETS_TRANSFORMATION_UPDATED",t.COMMENT_CREATED="COMMENT_CREATED",t.ESC_PRESSED="ESC_PRESSED",t.CANVAS_CLICKED="CANVAS_CLICKED",t.ALL_WIDGETS_LOADED="ALL_WIDGETS_LOADED",t.DATA_BROADCASTED="DATA_BROADCASTED",t.METADATA_CHANGED="METADATA_CHANGED",t.ONLINE_USERS_CHANGED="ONLINE_USERS_CHANGED"}(Q||(Q={}));var $,tt=Q;!function(t){t[t.RECTANGLE=3]="RECTANGLE",t[t.CIRCLE=4]="CIRCLE",t[t.TRIANGLE=5]="TRIANGLE",t[t.BUBBLE=6]="BUBBLE",t[t.ROUNDER=7]="ROUNDER",t[t.RHOMBUS=8]="RHOMBUS",t[t.PARALL=10]="PARALL",t[t.STAR=11]="STAR",t[t.ARROW_RIGHT=12]="ARROW_RIGHT",t[t.ARROW_LEFT=13]="ARROW_LEFT",t[t.TEXT_RECT=14]="TEXT_RECT",t[t.PILL=15]="PILL",t[t.PENTAGON=16]="PENTAGON",t[t.HEXAGON=17]="HEXAGON",t[t.OCTAGON=18]="OCTAGON",t[t.TRAPEZE=19]="TRAPEZE",t[t.PREDEFINED_PROCESS=20]="PREDEFINED_PROCESS",t[t.ARROW_LEFT_RIGHT=21]="ARROW_LEFT_RIGHT",t[t.CLOUD=22]="CLOUD",t[t.BRACE_LEFT=23]="BRACE_LEFT",t[t.BRACE_RIGHT=24]="BRACE_RIGHT",t[t.CROSS=25]="CROSS",t[t.BARREL=26]="BARREL"}($||($={}));var et,nt=$;!function(t){t[t.SQUARE=0]="SQUARE",t[t.RECTANGLE=1]="RECTANGLE"}(et||(et={}));var rt,ot=et;!function(t){t[t.DOTTED=0]="DOTTED",t[t.DASHED=1]="DASHED",t[t.NORMAL=2]="NORMAL"}(rt||(rt={}));var it,at=rt;!function(t){t[t.ARIAL=0]="ARIAL",t[t.CURSIVE=1]="CURSIVE",t[t.ABRIL_FATFACE=2]="ABRIL_FATFACE",t[t.BANGERS=3]="BANGERS",t[t.EB_GARAMOND=4]="EB_GARAMOND",t[t.GEORGIA=5]="GEORGIA",t[t.GRADUATE=6]="GRADUATE",t[t.GRAVITAS_ONE=7]="GRAVITAS_ONE",t[t.FREDOKA_ONE=8]="FREDOKA_ONE",t[t.NIXIE_ONE=9]="NIXIE_ONE",t[t.OPEN_SANS=10]="OPEN_SANS",t[t.PERMANENT_MARKER=11]="PERMANENT_MARKER",t[t.PT_SANS=12]="PT_SANS",t[t.PT_SANS_NARROW=13]="PT_SANS_NARROW",t[t.PT_SERIF=14]="PT_SERIF",t[t.RAMMETTO_ONE=15]="RAMMETTO_ONE",t[t.ROBOTO=16]="ROBOTO",t[t.ROBOTO_CONDENSED=17]="ROBOTO_CONDENSED",t[t.ROBOTO_SLAB=18]="ROBOTO_SLAB",t[t.CAVEAT=19]="CAVEAT",t[t.TIMES_NEW_ROMAN=20]="TIMES_NEW_ROMAN",t[t.TITAN_ONE=21]="TITAN_ONE",t[t.LEMON_TUESDAY=22]="LEMON_TUESDAY",t[t.ROBOTO_MONO=23]="ROBOTO_MONO",t[t.NOTO_SANS=24]="NOTO_SANS",t[t.PLEX_SANS=25]="PLEX_SANS",t[t.PLEX_SERIF=26]="PLEX_SERIF",t[t.PLEX_MONO=27]="PLEX_MONO",t[t.NOTO_SERIF=28]="NOTO_SERIF",t[t.NOTO_SERIF_JP=29]="NOTO_SERIF_JP",t[t.NOTO_SANS_JP=30]="NOTO_SANS_JP",t[t.NOTO_SANS_HEBREW=31]="NOTO_SANS_HEBREW",t[t.NOTO_SERIF_KR=32]="NOTO_SERIF_KR",t[t.NOTO_SANS_KR=33]="NOTO_SANS_KR",t[t.SERIF=34]="SERIF",t[t.SANS_SERIF=35]="SANS_SERIF",t[t.MONOSPACE=36]="MONOSPACE"}(it||(it={}));var st,ut=it;!function(t){t[t.DASHED=1]="DASHED",t[t.NORMAL=2]="NORMAL",t[t.STRONG=3]="STRONG",t[t.DOTTED=4]="DOTTED"}(st||(st={}));var ct,lt=st;!function(t){t[t.NONE=0]="NONE",t[t.ARC_ARROW=1]="ARC_ARROW",t[t.RHOMBUS=2]="RHOMBUS",t[t.FILLED_RHOMBUS=3]="FILLED_RHOMBUS",t[t.CIRCLE=4]="CIRCLE",t[t.FILLED_CIRCLE=5]="FILLED_CIRCLE",t[t.ARROW=6]="ARROW",t[t.OPEN_ARROW=7]="OPEN_ARROW",t[t.FILLED_ARROW=8]="FILLED_ARROW"}(ct||(ct={}));var ft,ht=ct;!function(t){t.LEFT="l",t.CENTER="c",t.RIGHT="r"}(ft||(ft={}));var pt,dt=ft;!function(t){t[t.LINE=1]="LINE",t[t.ARROW=2]="ARROW",t[t.ARROW_SKETCH=9]="ARROW_SKETCH"}(pt||(pt={}));var vt,mt=pt;!function(t){t.TOP="t",t.MIDDLE="m",t.BOTTOM="b"}(vt||(vt={}));var Et=vt;function _t(t,e,n){"function"==typeof n?n().catch((function(t){if(void 0!==t)throw new Error(t)})).then((function(n){n&&gt(t,e,n)})):gt(t,e,n)}function yt(t,e){var n;wt().addOnWidgetSelectedListener(e),t.addButtonExtensionPoint(((n={}).hasWidgetMenuItems=!0,n))}function gt(t,e,n){var r;t.addButtonExtensionPoint(((r={})[e]=function(t,e){!function(t,e){var n=Ot[t];if(!n)throw new Error("Unknown extension point: "+t);n(e)}(t,e);var n={};for(var r in e)"onClick"!==r?n[r]=e[r]:wt().addButtonClickListener(t,e[r]);return n}(e,n),r))}var Ot={toolbar:function(t){bt(t,"toolbar","title","string"),bt(t,"toolbar","toolbarSvgIcon","string"),bt(t,"toolbar","librarySvgIcon","string"),bt(t,"toolbar","onClick","function")},bottomBar:function(t){bt(t,"bottomBar","title","string"),bt(t,"bottomBar","svgIcon","string"),bt(t,"bottomBar","onClick","function")},exportMenu:function(t){bt(t,"exportMenu","title","string"),bt(t,"exportMenu","svgIcon","string"),bt(t,"exportMenu","onClick","function")},getWidgetMenuItems:function(t){return!0},hasWidgetMenuItems:function(t){return!0}};function bt(t,e,n,r){if(typeof t[n]!==r)throw new Error(n+":"+r+" is required for 'extensionPoints."+e+"'")}var At=0;function Rt(t){return function(e,n){var r=++At;P(e),wt().setDraggableItemOption(r,n);var o=function(o){o.preventDefault();var i=function(t,e,n){return Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))}(o.target,e,n.draggableItemSelector);if(i){wt().setDraggableItem(i);var a="touchstart"===o.type;X(o,e,(function(){n.onClick&&n.onClick(i)}),(function(){if(!n.getDraggableItemPreview)throw new Error("getDraggableItemPreview callback should be provided");var e=n.getDraggableItemPreview(i);t.onDraggableItemStartDrag(r,{isTouchEvent:a,preview:e})}),n.dragDirection||"horizontal");var s=function(e){var n=e.touches[0];t.onDraggableItemTouchMove(r,n.clientX,n.clientY)},u=function(){t.onDraggableItemTouchEnd(r),l()},c=function(){t.onDraggableItemTouchCancel(r),l(),n.onCancel&&n.onCancel()},l=function(){e.removeEventListener("touchmove",s),e.removeEventListener("touchcancel",c),e.removeEventListener("touchend",u)};e.addEventListener("touchmove",s),e.addEventListener("touchcancel",c),e.addEventListener("touchend",u),o.stopPropagation()}};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o),e.addEventListener("dragstart",(function(t){t.stopPropagation(),t.preventDefault()}))}}n(2),n(3),n(4),n(5),n(6);var St=new Z,It=new _(St);function wt(){return It}function Lt(t,e){window.parent.postMessage({rtbSuperCommandID:t,data:e},"*")}var Tt,Nt,Dt=new l((function(t){Lt(f.IFRAME_CHANNEL_COMMAND,t)}),(function(t){return It})),Ct=function(t,e){return Dt.sendCommand(t,Tt,e)},Pt=new Promise((function(t){Nt=t}));window.addEventListener("message",(function(t){switch(t.data.rtbEnableCommandsLog&&function(t,e,n,r){if(void 0===r&&(r=!1),n.data.rtbSuperCommandID)if(n.data.rtbSuperCommandID===f.IFRAME_CHANNEL_COMMAND){if("IS_RESPONSE_FOR_SOME_COMMAND"===n.data.data.commandId&&!r)return;console.info("%c"+t,"color: "+e+";",n.data.data.commandId,n.data)}else console.info("%c"+t,"color: "+e+";",n.data)}("APP → PLUGIN","blue",t,"showResponses"===t.data.rtbEnableCommandsLog),t.data.rtbSuperCommandID){case f.HELLO_IFRAME_FROM_APP:var e=t.data.data;Tt=e,function t(e,n,r,o){r.methods.forEach((function(t){n[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e+"."+t;return o(i,n)}})),r.nestedReceivers.forEach((function(r){n[r.key]={},t(e+"."+r.key,n[r.key],r.receiver,o)}))}("",Mt,e.descriptor,Ct),Mt.board&&(Mt.board.ui.initDraggableItemsContainer=Rt(Mt),Mt.board.ui.resizeTo=(n=Mt,r=function(t){n.board.ui.resizeToInner({width:t.clientWidth,height:t.clientHeight})},function(t){if("string"==typeof t){var e=document.querySelector(t);e&&r(e)}else"attributes"in t?r(t):n.board.ui.resizeToInner(t)}),Mt.helpers=new J(Mt),Mt.board.utils={unionWidgetBounds:function(t){if(t.length<1)return{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0};for(var e=t[0].bounds,n=e.left,r=e.top,o=e.right,i=e.bottom,a=1;a<t.length;a++)(e=t[a].bounds).left<n&&(n=e.left),e.top<r&&(r=e.top),e.right>o&&(o=e.right),e.bottom>i&&(i=e.bottom);var s=o-n,u=i-r;return{left:n,top:r,right:o,bottom:i,width:s,height:u,x:n+s/2,y:r+u/2}}},function(t){t.board.viewport.getBoardUIPadding=function(){return{left:60,top:60,bottom:60,right:0}}}(Mt),Mt.enums={event:tt,shapeType:nt,stickerType:ot,borderStyle:at,fontFamily:ut,textAlign:dt,textAlignVertical:Et,lineStyle:lt,lineType:mt,lineArrowheadStyle:ht},function(t,e){var n=e;n.addListener=function(n,r){return t.addEventListener(n,r),e.startListenEvent(n)},n.removeListener=function(e,n){return t.removeEventListener(e,n),Promise.resolve()},n.broadcastData=function(t){return e.broadcastEventInner({type:"BROADCAST_DATA",data:t})},window.addEventListener("keyup",(function(t){"Escape"===t.key&&e.broadcastEventInner({type:"ESC_PRESSED"})}))}(St,Mt)),function(t,e){t.getClientId=function(){return e}}(Mt,e.pluginId),Nt();break;case f.IFRAME_CHANNEL_COMMAND:Pt.then((function(){Dt.processCommand(t.data.data)}))}var n,r}));var Mt={onReady:function(t){Pt.then(t)},initializeSettings:function(t){return Ct(".initializeSettingsInner",[{iframeHeight:t?parseInt(t.iframeHeight,10):void 0}])},initialize:function(t){if(void 0===t&&(t={extensionPoints:{}}),!Ct)throw new Error("Call sdk methods inside onReady() callback");return Mt.initializeInner().then((function(){!function(t,e){if(e.extensionPoints)for(var n in e.extensionPoints){var r=e.extensionPoints[n];"getWidgetMenuItems"===n?yt(t,r):_t(t,n,r)}}(Mt,t)}))},authorize:function(t){return console.warn("miro.authorize is deprecated, please use miro.requestAuthorization instead.\nSee https://developers.miro.com/docs/miroauthorize"),Mt.__authorizeStub&&Mt.__authorizeStub(t),new Promise((function(e,n){var r=Tt.locationOrigin,o=window.location.origin,i=t.state,a="token"!==t.response_type&&t.redirect_uri?t.redirect_uri:"/confirm-app-install/",s=window.open(r+"/oauth/authorize?response_type=code&client_id="+Tt.pluginId+"&account_id="+Tt.accountId+"&state="+(i||"")+"&redirect_uri="+a);if(s){var u=setInterval((function(){s.closed&&(f(),n("Not authorized"))}),500);window.addEventListener("message",l),window.miroAuthorized=c}else n("Couldn't open auth popup. To prevent browsers blocking this popup, only call miro.authorize inside a click handler.");function c(){f(),Mt.__invalidateAuthorization().then((function(){return Mt.getToken()})).then((function(t){e(t)})).catch((function(){n("Not authorized")}))}function l(t){var e,n;t.origin!==r&&t.origin!==o||(null===(e=t.data)||void 0===e?void 0:e.installedAppId)===Mt.getClientId()&&!0===(null===(n=t.data)||void 0===n?void 0:n.success)&&c()}function f(){clearInterval(u),window.removeEventListener("message",l),s.closed||s.close()}}))}},xt=window;xt.miro=xt.rtb=Mt,Lt(f.HELLO_APP_FROM_IFRAME,{})}]);